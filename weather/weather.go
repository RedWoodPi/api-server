package weather


import (
    "github.com/opesun/goquery"
    "fmt"
    "strings"
    "encoding/json"
    "bytes"
)
type CitySlice struct {
    Id int `json:"id"`
    Name string `json:"name"`
    Forecasts []Forecast `json:"forecasts"`
}
type Forecast struct {
    Date string `json:"date"`
    Weather [2]string `json:"weather"`
    Temprature [2]string `json:"temprature"`
}
func Weather(name string) (strs string){
    url := city(name)
    if url == "" {
        return `{"id":404}`
    }
    content, err := goquery.ParseUrl("http://www.nmc.cn"+url)
    if err != nil {
        fmt.Println("获取目标网站出错")
    }
    a := content.Find(".forecast")
    td := a.Find(".today")
    d := a.Find(".day")
    date := d.Find(".date")
    weath := td.Find(".wdesc")
    temp := td.Find(".temp")
    
    //对时间，天气，温度字符串进行清理
    dateArr := text2arr(date)
    weathArr := text2arr(weath)
    tempArr := text2arr(temp)
    var s CitySlice
    s.Id = 1
    s.Name = "zhengzhou"
    //构造
    var forecasts [7]Forecast
    for i:=0; i<7; i++ {
        if i==0 {
            forecasts[i].Date = dateArr[i]
            forecasts[i].Weather[0] = weathArr[i]
            forecasts[i].Weather[1] = ""
            forecasts[i].Temprature[0] = tempArr[i]
            forecasts[i].Temprature[1] = ""
        } else {
            forecasts[i].Date = dateArr[i]
            forecasts[i].Weather[0] = weathArr[2*i-1]
            forecasts[i].Weather[1] = weathArr[2*i]
            forecasts[i].Temprature[0] = tempArr[2*i-1]
            forecasts[i].Temprature[1] = tempArr[2*i]
        }
        s.Forecasts = append(s.Forecasts, forecasts[i])
    }
    //转json
    b, err := json.Marshal(s)
    return string(b)
}

//取消空格和回车
func text2arr(a goquery.Nodes)(arr []string)  {
    
    for i:=0;i < 20; i++ {
        if a.Eq(i).Text() =="" {break}
        st := strings.Replace(a.Eq(i).Text(), " ","",-1)
        st = strings.Replace(st, "\n","",-1)
        arr = append(arr,st)
    }
    return arr
}
//城市链接
func city(name string)(urlstr string)  {
    //城市链接map
    citys := map[string]string{"巢湖":"/publish/forecast/AAH/chao-hu.html", "杭州":"/publish/forecast/AZJ/hang-zhou.html", "西安":"/publish/forecast/ASN/xi-an.html", "阳泉":"/publish/forecast/ASX/yang-quan.html", "二连浩特":"/publish/forecast/ANM/er-lian-hao-te.html", "漠河":"/publish/forecast/AHL/mo-he.html", "铁岭":"/publish/forecast/ALN/tie-ling.html", "铜川":"/publish/forecast/ASN/tong-chuan.html", "洞头":"/publish/forecast/AZJ/dong-tou.html", "北京":"/publish/forecast/ABJ/bei-jing.html", "宁海":"/publish/forecast/AZJ/ning-hai.html", "临高":"/publish/forecast/AHI/lin-gao.html", "滨海新区":"/publish/forecast/ATJ/bin-hai-xin-qu.html", "沈阳":"/publish/forecast/ALN/shen-yang.html", "贵港":"/publish/forecast/AGX/gui-gang.html", "武都":"/publish/forecast/AGS/wu-dou.html", "内江":"/publish/forecast/ASC/nei-jiang.html", "莱芜":"/publish/forecast/ASD/lai-wu.html", "吉首":"/publish/forecast/AHN/ji-shou.html", "临夏":"/publish/forecast/AGS/lin-xia.html", "酒泉":"/publish/forecast/AGS/jiu-quan.html", "广安":"/publish/forecast/ASC/guang-an.html", "东台":"/publish/forecast/AJS/dong-tai.html", "六安":"/publish/forecast/AAH/lu-an.html", "潢川":"/publish/forecast/AHA/huang-chuan.html", "保定":"/publish/forecast/AHE/bao-ding.html", "杜蒙":"/publish/forecast/AHL/du-meng.html", "泽当":"/publish/forecast/AXZ/ze-dang.html", "安康":"/publish/forecast/ASN/an-kang.html", "天门":"/publish/forecast/AHB/tian-men.html", "淮南":"/publish/forecast/AAH/huai-nan.html", "博乐":"/publish/forecast/AXJ/bo-le.html", "自贡":"/publish/forecast/ASC/zi-gong.html", "眉山":"/publish/forecast/ASC/mei-shan.html", "驻马店市":"/publish/forecast/AHA/zhu-ma-dian-shi.html", "贵阳":"/publish/forecast/AGZ/gui-yang.html", "淄博":"/publish/forecast/ASD/zi-bo.html", "黎城":"/publish/forecast/ASX/li-cheng.html", "上饶":"/publish/forecast/AJX/shang-rao.html", "许昌":"/publish/forecast/AHA/xu-chang.html", "荆门":"/publish/forecast/AHB/jing-men.html", "宝鸡":"/publish/forecast/ASN/bao-ji.html", "海拉尔":"/publish/forecast/ANM/hai-la-er.html", "贵溪":"/publish/forecast/AJX/gui-xi.html", "深圳":"/publish/forecast/AGD/shen-zhen.html", "渭南":"/publish/forecast/ASN/wei-nan.html", "澳门":"/publish/forecast/AAM/ao-men.html", "唐山":"/publish/forecast/AHE/tang-shan.html", "阿拉善右旗":"/publish/forecast/ANM/a-la-shan-you-qi.html", "瓦房店":"/publish/forecast/ALN/wa-fang-dian.html", "保山":"/publish/forecast/AYN/bao-shan.html", "来宾":"/publish/forecast/AGX/lai-bin.html", "克拉玛依":"/publish/forecast/AXJ/ke-la-ma-yi.html", "娄底":"/publish/forecast/AHN/lou-di.html", "汕尾":"/publish/forecast/AGD/shan-wei.html", "拉萨":"/publish/forecast/AXZ/la-sa.html", "衡水":"/publish/forecast/AHE/heng-shui.html", "高邮":"/publish/forecast/AJS/gao-you.html", "赣州":"/publish/forecast/AJX/gan-zhou.html", "珠海":"/publish/forecast/AGD/zhu-hai.html", "乐山":"/publish/forecast/ASC/le-shan.html", "北海":"/publish/forecast/AGX/bei-hai.html", "儋州":"/publish/forecast/AHI/dan-zhou.html", "绵阳":"/publish/forecast/ASC/mian-yang.html", "衢州":"/publish/forecast/AZJ/qu-zhou.html", "焦作市":"/publish/forecast/AHA/jiao-zuo-shi.html", "桦甸":"/publish/forecast/AJL/hua-dian.html", "刚察":"/publish/forecast/AQH/gang-cha.html", "昆明":"/publish/forecast/AYN/kun-ming.html", "沧州":"/publish/forecast/AHE/cang-zhou.html", "阳江":"/publish/forecast/AGD/yang-jiang.html", "白沙":"/publish/forecast/AHI/bai-sha.html", "营口":"/publish/forecast/ALN/ying-kou.html", "中沙":"/publish/forecast/AHI/zhong-sha.html", "佛冈":"/publish/forecast/AGD/fo-gang.html", "崇左":"/publish/forecast/AGX/chong-zuo.html", "三亚":"/publish/forecast/AHI/san-ya.html", "临汾":"/publish/forecast/ASX/lin-fen.html", "陵水":"/publish/forecast/AHI/ling-shui.html", "新宾":"/publish/forecast/ALN/xin-bin.html", "吉安":"/publish/forecast/AJX/ji-an.html", "南阳市":"/publish/forecast/AHA/nan-yang-shi.html", "湛江":"/publish/forecast/AGD/zhan-jiang.html", "包头":"/publish/forecast/ANM/bao-tou.html", "神农架":"/publish/forecast/AHB/shen-nong-jia.html", "佛山":"/publish/forecast/AGD/fo-shan.html", "云浮":"/publish/forecast/AGD/yun-fu.html", "五台山":"/publish/forecast/ASX/wu-tai-shan.html", "芜湖":"/publish/forecast/AAH/wu-hu.html", "宣城":"/publish/forecast/AAH/xuan-cheng.html", "无锡":"/publish/forecast/AJS/wu-xi.html", "汉中":"/publish/forecast/ASN/han-zhong.html", "库尔勒":"/publish/forecast/AXJ/ku-er-le.html", "石家庄":"/publish/forecast/AHE/shi-jia-zhuang.html", "文水":"/publish/forecast/ASX/wen-shui.html", "商洛":"/publish/forecast/ASN/shang-luo.html", "集宁":"/publish/forecast/ANM/ji-ning.html", "荆州":"/publish/forecast/AHB/jing-zhou.html", "平湖":"/publish/forecast/AZJ/ping-hu.html", "衡阳市":"/publish/forecast/AHN/heng-yang-shi.html", "德令哈":"/publish/forecast/AQH/de-ling-ha.html", "乐东":"/publish/forecast/AHI/le-dong.html", "钓鱼岛":"/publish/forecast/AFJ/diao-yu-dao.html", "厦门":"/publish/forecast/AFJ/xia-men.html", "泸县":"/publish/forecast/ASC/lu-xian.html", "中山":"/publish/forecast/AGD/zhong-shan.html", "琼中":"/publish/forecast/AHI/qiong-zhong.html", "顺德":"/publish/forecast/AGD/shun-de.html", "兰州":"/publish/forecast/AGS/lan-zhou.html", "镇江":"/publish/forecast/AJS/zhen-jiang.html", "哈密":"/publish/forecast/AXJ/ha-mi.html", "峨眉山":"/publish/forecast/ASC/e-mei-shan.html", "临河":"/publish/forecast/ANM/lin-he.html", "临海":"/publish/forecast/AZJ/lin-hai.html", "嘉峪关":"/publish/forecast/AGS/jia-yu-guan.html", "黔江":"/publish/forecast/ACQ/qian-jiang.html", "安顺":"/publish/forecast/AGZ/an-shun.html", "河源":"/publish/forecast/AGD/he-yuan.html", "白银":"/publish/forecast/AGS/bai-yin.html", "益阳":"/publish/forecast/AHN/yi-yang.html", "清远":"/publish/forecast/AGD/qing-yuan.html", "马鞍山":"/publish/forecast/AAH/ma-an-shan.html", "潞西":"/publish/forecast/AYN/lu-xi.html", "南宁城区":"/publish/forecast/AGX/nan-ning-cheng-qu.html", "贡山":"/publish/forecast/AYN/gong-shan.html", "集安":"/publish/forecast/AJL/ji-an.html", "鸡西":"/publish/forecast/AHL/ji-xi.html", "普兰":"/publish/forecast/AXZ/pu-lan.html", "西沙永兴岛":"/publish/forecast/AHI/xi-sha-yong-xing-dao.html", "海口":"/publish/forecast/AHI/hai-kou.html", "都匀":"/publish/forecast/AGZ/dou-yun.html", "玉山":"/publish/forecast/AJX/yu-shan.html", "饶平":"/publish/forecast/AGD/rao-ping.html", "加格达奇":"/publish/forecast/AHL/jia-ge-da-qi.html", "湖州":"/publish/forecast/AZJ/hu-zhou.html", "三明":"/publish/forecast/AFJ/san-ming.html", "廊坊":"/publish/forecast/AHE/lang-fang.html", "黑河":"/publish/forecast/AHL/hei-he.html", "徐州":"/publish/forecast/AJS/xu-zhou.html", "奉节":"/publish/forecast/ACQ/feng-jie.html", "思茅":"/publish/forecast/AYN/si-mao.html", "忻州":"/publish/forecast/ASX/xin-zhou.html", "沅陵":"/publish/forecast/AHN/yuan-ling.html", "西宁":"/publish/forecast/AQH/xi-ning.html", "雅安":"/publish/forecast/ASC/ya-an.html", "郑州":"/publish/forecast/AHA/zheng-zhou.html", "咸宁":"/publish/forecast/AHB/xian-ning.html", "南岳":"/publish/forecast/AHN/nan-yue.html", "海晏":"/publish/forecast/AQH/hai-yan.html", "大同":"/publish/forecast/ASX/da-tong.html", "大庆":"/publish/forecast/AHL/da-qing.html", "庐山":"/publish/forecast/AJX/lu-shan.html", "随州":"/publish/forecast/AHB/sui-zhou.html", "甘孜":"/publish/forecast/ASC/gan-zi.html", "南京":"/publish/forecast/AJS/nan-jing.html", "淮北":"/publish/forecast/AAH/huai-bei.html", "瑞丽":"/publish/forecast/AYN/rui-li.html", "烟台":"/publish/forecast/ASD/yan-tai.html", "佳木斯":"/publish/forecast/AHL/jia-mu-si.html", "抚州":"/publish/forecast/AJX/fu-zhou.html", "河南":"/publish/forecast/AQH/he-nan.html", "资阳":"/publish/forecast/ASC/zi-yang.html", "泰州":"/publish/forecast/AJS/tai-zhou.html", "文山":"/publish/forecast/AYN/wen-shan.html", "定安":"/publish/forecast/AHI/ding-an.html", "广昌":"/publish/forecast/AJX/guang-chang.html", "宜春":"/publish/forecast/AJX/yi-chun.html", "和田":"/publish/forecast/AXJ/he-tian.html", "遂宁":"/publish/forecast/ASC/sui-ning.html", "温州":"/publish/forecast/AZJ/wen-zhou.html", "新余":"/publish/forecast/AJX/xin-yu.html", "南通":"/publish/forecast/AJS/nan-tong.html", "日照":"/publish/forecast/ASD/ri-zhao.html", "青岛":"/publish/forecast/ASD/qing-dao.html", "七台河":"/publish/forecast/AHL/qi-tai-he.html", "绥化":"/publish/forecast/AHL/sui-hua.html", "屯昌":"/publish/forecast/AHI/tun-chang.html", "菏泽":"/publish/forecast/ASD/he-ze.html", "黄山市":"/publish/forecast/AAH/huang-shan-shi.html", "凯里":"/publish/forecast/AGZ/kai-li.html", "临沂":"/publish/forecast/ASD/lin-yi.html", "高要":"/publish/forecast/AGD/gao-yao.html", "万宁":"/publish/forecast/AHI/wan-ning.html", "昌吉":"/publish/forecast/AXJ/chang-ji.html", "梧州":"/publish/forecast/AGX/wu-zhou.html", "宜昌":"/publish/forecast/AHB/yi-chang.html", "十堰":"/publish/forecast/AHB/shi-yan.html", "崆峒":"/publish/forecast/AGS/kong-tong.html", "乌鲁木齐":"/publish/forecast/AXJ/wu-lu-mu-qi.html", "南昌":"/publish/forecast/AJX/nan-chang.html", "潮州":"/publish/forecast/AGD/chao-zhou.html", "林芝":"/publish/forecast/AXZ/lin-zhi.html", "朝阳":"/publish/forecast/ALN/chao-yang.html", "楚雄":"/publish/forecast/AYN/chu-xiong.html", "吴忠":"/publish/forecast/ANX/wu-zhong.html", "阿拉尔":"/publish/forecast/AXJ/a-la-er.html", "临沧":"/publish/forecast/AYN/lin-cang.html", "邢台":"/publish/forecast/AHE/xing-tai.html", "阿克苏":"/publish/forecast/AXJ/a-ke-su.html", "鄂州":"/publish/forecast/AHB/e-zhou.html", "澄迈":"/publish/forecast/AHI/cheng-mai.html", "格尔木":"/publish/forecast/AQH/ge-er-mu.html", "大武口":"/publish/forecast/ANX/da-wu-kou.html", "承德":"/publish/forecast/AHE/cheng-de.html", "赣榆":"/publish/forecast/AJS/gan-yu.html", "孝感":"/publish/forecast/AHB/xiao-gan.html", "武汉":"/publish/forecast/AHB/wu-han.html", "南雄":"/publish/forecast/AGD/nan-xiong.html", "达州":"/publish/forecast/ASC/da-zhou.html", "本溪":"/publish/forecast/ALN/ben-xi.html", "金华":"/publish/forecast/AZJ/jin-hua.html", "莆田":"/publish/forecast/AFJ/pu-tian.html", "临安":"/publish/forecast/AZJ/lin-an.html", "仙桃":"/publish/forecast/AHB/xian-tao.html", "锦州":"/publish/forecast/ALN/jin-zhou.html", "盘山":"/publish/forecast/ALN/pan-shan.html", "珲春":"/publish/forecast/AJL/hun-chun.html", "滨州":"/publish/forecast/ASD/bin-zhou.html", "玛沁":"/publish/forecast/AQH/ma-qin.html", "铜仁":"/publish/forecast/AGZ/tong-ren.html", "锡林浩特":"/publish/forecast/ANM/xi-lin-hao-te.html", "吉林":"/publish/forecast/AJL/ji-lin.html", "安庆":"/publish/forecast/AAH/an-qing.html", "塔城":"/publish/forecast/AXJ/ta-cheng.html", "台北":"/publish/forecast/ATW/tai-bei.html", "齐齐哈尔":"/publish/forecast/AHL/qi-qi-ha-er.html", "牡丹江":"/publish/forecast/AHL/mu-dan-jiang.html", "永州":"/publish/forecast/AHN/yong-zhou.html", "那曲":"/publish/forecast/AXZ/na-qu.html", "景洪":"/publish/forecast/AYN/jing-hong.html", "长沙":"/publish/forecast/AHN/chang-sha.html", "长治":"/publish/forecast/ASX/chang-zhi.html", "盐城":"/publish/forecast/AJS/yan-cheng.html", "漯河市":"/publish/forecast/AHA/luo-he-shi.html", "白山":"/publish/forecast/AJL/bai-shan.html", "日喀则":"/publish/forecast/AXZ/ri-ka-ze.html", "浦城":"/publish/forecast/AFJ/pu-cheng.html", "文昌":"/publish/forecast/AHI/wen-chang.html", "济南":"/publish/forecast/ASD/ji-nan.html", "德州":"/publish/forecast/ASD/de-zhou.html", "济源":"/publish/forecast/AHA/ji-yuan.html", "阿拉善左旗":"/publish/forecast/ANM/a-la-shan-zuo-qi.html", "辽源":"/publish/forecast/AJL/liao-yuan.html", "蚌埠":"/publish/forecast/AAH/beng-bu.html", "盱眙":"/publish/forecast/AJS/xu-yi.html", "韶关":"/publish/forecast/AGD/shao-guan.html", "邯郸":"/publish/forecast/AHE/han-dan.html", "保亭":"/publish/forecast/AHI/bao-ting.html", "武威":"/publish/forecast/AGS/wu-wei.html", "桑植":"/publish/forecast/AHN/sang-zhi.html", "苏州":"/publish/forecast/AJS/su-zhou.html", "枣庄":"/publish/forecast/ASD/zao-zhuang.html", "黄石":"/publish/forecast/AHB/huang-shi.html", "中卫":"/publish/forecast/ANX/zhong-wei.html", "四平":"/publish/forecast/AJL/si-ping.html", "福州":"/publish/forecast/AFJ/fu-zhou.html", "襄阳":"/publish/forecast/AHB/xiang-yang.html", "郴州":"/publish/forecast/AHN/chen-zhou.html", "平安":"/publish/forecast/AQH/ping-an.html", "固原":"/publish/forecast/ANX/gu-yuan.html", "宿州":"/publish/forecast/AAH/su-zhou.html", "哈尔滨":"/publish/forecast/AHL/ha-er-bin.html", "铜陵":"/publish/forecast/AAH/tong-ling.html", "太原":"/publish/forecast/ASX/tai-yuan.html", "常德":"/publish/forecast/AHN/chang-de.html", "兴义":"/publish/forecast/AGZ/xing-yi.html", "楚州":"/publish/forecast/AJS/chu-zhou.html", "丽水":"/publish/forecast/AZJ/li-shui.html", "钦州":"/publish/forecast/AGX/qin-zhou.html", "通辽":"/publish/forecast/ANM/tong-liao.html", "榆林":"/publish/forecast/ASN/yu-lin.html", "共和":"/publish/forecast/AQH/gong-he.html", "重庆":"/publish/forecast/ACQ/chong-qing.html", "萍乡":"/publish/forecast/AJX/ping-xiang.html", "玉树":"/publish/forecast/AQH/yu-shu.html", "丹东":"/publish/forecast/ALN/dan-dong.html", "常州":"/publish/forecast/AJS/chang-zhou.html", "宁波":"/publish/forecast/AZJ/ning-bo.html", "石河子":"/publish/forecast/AXJ/shi-he-zi.html", "昭通":"/publish/forecast/AYN/zhao-tong.html", "延吉":"/publish/forecast/AJL/yan-ji.html", "百色":"/publish/forecast/AGX/bai-se.html", "玉溪":"/publish/forecast/AYN/yu-xi.html", "东莞":"/publish/forecast/AGD/dong-guan.html", "茂名":"/publish/forecast/AGD/mao-ming.html", "天水":"/publish/forecast/AGS/tian-shui.html", "涪陵":"/publish/forecast/ACQ/fu-ling.html", "遵义":"/publish/forecast/AGZ/zun-yi.html", "张掖":"/publish/forecast/AGS/zhang-ye.html", "梅县":"/publish/forecast/AGD/mei-xian.html", "防城港":"/publish/forecast/AGX/fang-cheng-gang.html", "南平":"/publish/forecast/AFJ/nan-ping.html", "黄冈":"/publish/forecast/AHB/huang-gang.html", "红河":"/publish/forecast/AYN/hong-he.html", "景德镇":"/publish/forecast/AJX/jing-de-zhen.html", "济宁":"/publish/forecast/ASD/ji-ning.html", "汕头":"/publish/forecast/AGD/shan-tou.html", "德阳":"/publish/forecast/ASC/de-yang.html", "葫芦岛":"/publish/forecast/ALN/hu-lu-dao.html", "惠州":"/publish/forecast/AGD/hui-zhou.html", "勃利":"/publish/forecast/AHL/bo-li.html", "阿勒泰":"/publish/forecast/AXJ/a-le-tai.html", "连云港":"/publish/forecast/AJS/lian-yun-gang.html", "九江":"/publish/forecast/AJX/jiu-jiang.html", "聊城":"/publish/forecast/ASD/liao-cheng.html", "喀什":"/publish/forecast/AXJ/ka-shen.html", "宜宾":"/publish/forecast/ASC/yi-bin.html", "潜江":"/publish/forecast/AHB/qian-jiang.html", "东胜":"/publish/forecast/ANM/dong-sheng.html", "鞍山":"/publish/forecast/ALN/an-shan.html", "信阳市":"/publish/forecast/AHA/xin-yang-shi.html", "湘潭":"/publish/forecast/AHN/xiang-tan.html", "邵阳市":"/publish/forecast/AHN/shao-yang-shi.html", "庆城":"/publish/forecast/AGS/qing-cheng.html", "奇台":"/publish/forecast/AXJ/qi-tai.html", "通化":"/publish/forecast/AJL/tong-hua.html", "亳州":"/publish/forecast/AAH/bo-zhou.html", "潍坊":"/publish/forecast/ASD/wei-fang.html", "伊宁市":"/publish/forecast/AXJ/yi-ning-shi.html", "黄岩岛":"/publish/forecast/AHI/huang-yan-dao.html", "濮阳":"/publish/forecast/AHA/pu-yang-xian.html", "桂林":"/publish/forecast/AGX/gui-lin.html", "伊春":"/publish/forecast/AHL/yi-chun.html", "绍兴":"/publish/forecast/AZJ/shao-xing.html", "双鸭山":"/publish/forecast/AHL/shuang-ya-shan.html", "滁州":"/publish/forecast/AAH/chu-zhou.html", "恩施":"/publish/forecast/AHB/en-shi.html", "延安":"/publish/forecast/ASN/yan-an.html", "朔州":"/publish/forecast/ASX/shuo-zhou.html", "合肥":"/publish/forecast/AAH/he-fei.html", "阿坝":"/publish/forecast/ASC/a-ba.html", "临武":"/publish/forecast/AHN/lin-wu.html", "柳州":"/publish/forecast/AGX/liu-zhou.html", "大连":"/publish/forecast/ALN/da-lian.html", "阜新":"/publish/forecast/ALN/fu-xin.html", "商丘":"/publish/forecast/AHA/shang-qiu.html", "琼海":"/publish/forecast/AHI/qiong-hai.html", "西昌":"/publish/forecast/ASC/xi-chang.html", "任丘":"/publish/forecast/AHE/ren-qiu.html", "龙岩":"/publish/forecast/AFJ/long-yan.html", "宜城":"/publish/forecast/AHB/yi-cheng.html", "吕梁":"/publish/forecast/ASX/lv-liang.html", "绥芬河":"/publish/forecast/AHL/sui-fen-he.html", "昌都":"/publish/forecast/AXZ/chang-dou.html", "鹤岗":"/publish/forecast/AHL/he-gang.html", "定海":"/publish/forecast/AZJ/ding-hai.html", "岳阳":"/publish/forecast/AHN/yue-yang.html", "广州":"/publish/forecast/AGD/guang-zhou.html", "巴中":"/publish/forecast/ASC/ba-zhong.html", "丽江":"/publish/forecast/AYN/li-jiang.html", "阿图什":"/publish/forecast/AXJ/a-tu-shen.html", "银川":"/publish/forecast/ANX/yin-chuan.html", "南充":"/publish/forecast/ASC/nan-chong.html", "张家口":"/publish/forecast/AHE/zhang-jia-kou.html", "晋江":"/publish/forecast/AFJ/jin-jiang.html", "沙湾":"/publish/forecast/AXJ/sha-wan.html", "鹤山":"/publish/forecast/AGD/he-shan.html", "攀枝花":"/publish/forecast/ASC/pan-zhi-hua.html", "怀化":"/publish/forecast/AHN/huai-hua.html", "洛阳市":"/publish/forecast/AHA/luo-yang-shi.html", "张家界":"/publish/forecast/AHN/zhang-jia-jie.html", "玉林":"/publish/forecast/AGX/yu-lin.html", "晋城":"/publish/forecast/ASX/jin-cheng.html", "赤峰":"/publish/forecast/ANM/chi-feng.html", "宁德":"/publish/forecast/AFJ/ning-de.html", "河池":"/publish/forecast/AGX/he-chi.html", "鹤壁":"/publish/forecast/AHA/he-bi.html", "三门峡":"/publish/forecast/AHA/san-men-xia.html", "安定":"/publish/forecast/AGS/an-ding.html", "运城":"/publish/forecast/ASX/yun-cheng.html", "新乡市":"/publish/forecast/AHA/xin-xiang-shi.html", "吐鲁番":"/publish/forecast/AXJ/tu-lu-fan.html", "广元":"/publish/forecast/ASC/guang-yuan.html", "漳州":"/publish/forecast/AFJ/zhang-zhou.html", "威海":"/publish/forecast/ASD/wei-hai.html", "毕节":"/publish/forecast/AGZ/bi-jie.html", "宿迁":"/publish/forecast/AJS/su-qian.html", "周口":"/publish/forecast/AHA/zhou-kou.html", "电白":"/publish/forecast/AGD/dian-bai.html", "鹰潭":"/publish/forecast/AJX/ying-tan.html", "安阳市":"/publish/forecast/AHA/an-yang-shi.html", "贺州":"/publish/forecast/AGX/he-zhou.html", "平遥":"/publish/forecast/ASX/ping-yao.html", "株洲":"/publish/forecast/AHN/zhu-zhou.html", "秦皇岛":"/publish/forecast/AHE/qin-huang-dao.html", "扬州":"/publish/forecast/AJS/yang-zhou.html", "辽阳":"/publish/forecast/ALN/liao-yang.html", "开封市":"/publish/forecast/AHA/kai-feng-shi.html", "香港":"/publish/forecast/AXG/xiang-gang.html", "乌海":"/publish/forecast/ANM/wu-hai.html", "长春":"/publish/forecast/AJL/chang-chun.html", "水城":"/publish/forecast/AGZ/shui-cheng.html", "嵊州":"/publish/forecast/AZJ/sheng-zhou.html", "阜阳":"/publish/forecast/AAH/fu-yang.html", "平顶山":"/publish/forecast/AHA/ping-ding-shan.html", "嘉兴":"/publish/forecast/AZJ/jia-xing.html", "池州":"/publish/forecast/AAH/chi-zhou.html", "甘南":"/publish/forecast/AHL/gan-nan.html", "东营":"/publish/forecast/ASD/dong-ying.html", "枣阳":"/publish/forecast/AHB/zao-yang.html", "西青":"/publish/forecast/ATJ/xi-qing.html", "白城":"/publish/forecast/AJL/bai-cheng.html", "泰安":"/publish/forecast/ASD/tai-an.html", "黔西":"/publish/forecast/AGZ/qian-xi.html", "天津":"/publish/forecast/ATJ/tian-jin.html", "巴林右旗":"/publish/forecast/ANM/ba-lin-you-qi.html", "梅河口":"/publish/forecast/AJL/mei-he-kou.html", "咸阳":"/publish/forecast/ASN/xian-yang.html", "揭阳":"/publish/forecast/AGD/jie-yang.html", "田阳":"/publish/forecast/AGX/tian-yang.html", "呼和浩特":"/publish/forecast/ANM/hu-he-hao-te.html", "乌兰浩特":"/publish/forecast/ANM/wu-lan-hao-te.html", "麻城":"/publish/forecast/AHB/ma-cheng.html", "东方":"/publish/forecast/AHI/dong-fang.html", "成都":"/publish/forecast/ASC/cheng-du.html", "大理":"/publish/forecast/AYN/da-li.html", "松原":"/publish/forecast/AJL/song-yuan.html", "上海":"/publish/forecast/ASH/shang-hai.html", "香格里拉":"/publish/forecast/AYN/xiang-ge-li-la.html", "泸州":"/publish/forecast/ASC/lu-zhou.html",}
    url := citys[name]
    if url == "" {
        if strings.Contains(name, "市") {
            name = strings.Replace(name, "市", "", -1)
        } else {
            var buf bytes.Buffer
            buf.WriteString(name)
            buf.WriteString("市")
            name = buf.String()
        }
    }
    return citys[name]
}